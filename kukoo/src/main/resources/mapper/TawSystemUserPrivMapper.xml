<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-config.dtd">

<!-- 权限模型mybatis mapper 文件配置 -->
<mapper namespace="com.kukoo.system.priv.dao.TawSystemUserPrivMapper">
	<!-- 根据 条件 查询用户权限 -->
	<select id="queryByUserId" parameterType="java.lang.String" resultType="java.util.HashMap">
		SELECT
			ID,
			USERID,
			TYPE,
			OPERATIONID
		FROM
			TAW_SYSTEM_USER_PRIV
		WHERE
			{conditions}
	</select>
	<!-- 保存用户权限关联对象 -->
	<insert id="saveTawSystemUserPriv" parameterType="com.kukoo.system.priv.model.TawSystemUserPriv">
	<selectKey keyProperty="id" resultType="string" order="BEFORE">
			select REPLACE(UUID(),'-','')
		</selectKey>
	insert into TAW_SYSTEM_PRIV
		(
			ID,
			USERID,
			TYPE,
			OPERATIONID
		)
		values
		(
			#{id,jdbcType=VARCHAR},
			#{userId,jdbcType=VARCHAR},
			#{type,jdbcType=VARCHAR},
			#{operationId,jdbcType=VARCHAR}
		)
	</insert>
	<!-- 删除用户权限关联对象 -->
	<delete id="deleteTawSystemUserPriv" parameterType="java.lang.String">  
        delete from TAW_SYSTEM_USER_PRIV where ID = #{id,jdbcType=VARCHAR}
    </delete>
</mapper>